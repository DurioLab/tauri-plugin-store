/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function i(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function u(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((i=i.apply(t,e||[])).next())}))}function r(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function o(t,e){void 0===e&&(e=!1);var n=window.crypto.getRandomValues(new Uint32Array(1))[0],i="_".concat(n);return Object.defineProperty(window,i,{value:function(n){return e&&Reflect.deleteProperty(window,i),null==t?void 0:t(n)},writable:!1,configurable:!0}),n}function a(t,e){return void 0===e&&(e={}),i(this,void 0,void 0,(function(){return r(this,(function(i){return[2,new Promise((function(i,r){var a=o((function(t){i(t),Reflect.deleteProperty(window,u)}),!0),u=o((function(t){r(t),Reflect.deleteProperty(window,a)}),!0);window.__TAURI_IPC__(n({cmd:t,callback:a,error:u},e))}))]}))}))}function u(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,a("tauri",t)]}))}))}function s(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,u({__tauriModule:"Event",message:{cmd:"unlisten",eventId:t}})]}))}))}function l(t,e,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return[4,u({__tauriModule:"Event",message:{cmd:"emit",event:t,windowLabel:e,payload:"string"==typeof n?n:JSON.stringify(n)}})];case 1:return i.sent(),[2]}}))}))}function c(t,e,n){return i(this,void 0,void 0,(function(){var a=this;return r(this,(function(l){return[2,u({__tauriModule:"Event",message:{cmd:"listen",event:t,windowLabel:e,handler:o(n)}}).then((function(t){return function(){return i(a,void 0,void 0,(function(){return r(this,(function(e){return[2,s(t)]}))}))}}))]}))}))}function d(t,e,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return[2,c(t,e,(function(t){n(t),s(t.id).catch((function(){}))}))]}))}))}Object.freeze({__proto__:null,transformCallback:o,invoke:a,convertFileSrc:function(t){return navigator.userAgent.includes("Windows")?"https://asset.localhost/".concat(t):"asset://".concat(t)}});var h,p=function(t,e){this.type="Logical",this.width=t,this.height=e},f=function(){function t(t,e){this.type="Physical",this.width=t,this.height=e}return t.prototype.toLogical=function(t){return new p(this.width/t,this.height/t)},t}(),m=function(t,e){this.type="Logical",this.x=t,this.y=e},y=function(){function t(t,e){this.type="Physical",this.x=t,this.y=e}return t.prototype.toLogical=function(t){return new m(this.x/t,this.y/t)},t}();function v(){return window.__TAURI_METADATA__.__windows.map((function(t){return new w(t.label,{skip:!0})}))}!function(t){t[t.Critical=1]="Critical",t[t.Informational=2]="Informational"}(h||(h={}));var g=["tauri://created","tauri://error"],_=function(){function t(t){this.label=t,this.listeners=Object.create(null)}return t.prototype.listen=function(t,e){return i(this,void 0,void 0,(function(){var n=this;return r(this,(function(i){return this._handleTauriEvent(t,e)?[2,Promise.resolve((function(){var i=n.listeners[t];i.splice(i.indexOf(e),1)}))]:[2,c(t,this.label,e)]}))}))},t.prototype.once=function(t,e){return i(this,void 0,void 0,(function(){var n=this;return r(this,(function(i){return this._handleTauriEvent(t,e)?[2,Promise.resolve((function(){var i=n.listeners[t];i.splice(i.indexOf(e),1)}))]:[2,d(t,this.label,e)]}))}))},t.prototype.emit=function(t,e){return i(this,void 0,void 0,(function(){var n,i;return r(this,(function(r){if(g.includes(t)){for(n=0,i=this.listeners[t]||[];n<i.length;n++)(0,i[n])({event:t,id:-1,windowLabel:this.label,payload:e});return[2,Promise.resolve()]}return[2,l(t,this.label,e)]}))}))},t.prototype._handleTauriEvent=function(t,e){return!!g.includes(t)&&(t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e],!0)},t}(),b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.scaleFactor=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})]}))}))},n.prototype.innerPosition=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then((function(t){var e=t.x,n=t.y;return new y(e,n)}))]}))}))},n.prototype.outerPosition=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then((function(t){var e=t.x,n=t.y;return new y(e,n)}))]}))}))},n.prototype.innerSize=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then((function(t){var e=t.width,n=t.height;return new f(e,n)}))]}))}))},n.prototype.outerSize=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then((function(t){var e=t.width,n=t.height;return new f(e,n)}))]}))}))},n.prototype.isFullscreen=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})]}))}))},n.prototype.isMaximized=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})]}))}))},n.prototype.isDecorated=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})]}))}))},n.prototype.isResizable=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})]}))}))},n.prototype.isVisible=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})]}))}))},n.prototype.center=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})]}))}))},n.prototype.requestUserAttention=function(t){return i(this,void 0,void 0,(function(){var e;return r(this,(function(n){return e=null,t&&(e=t===h.Critical?{type:"Critical"}:{type:"Informational"}),[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:e}}}})]}))}))},n.prototype.setResizable=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:t}}}})]}))}))},n.prototype.setTitle=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:t}}}})]}))}))},n.prototype.maximize=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})]}))}))},n.prototype.unmaximize=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})]}))}))},n.prototype.toggleMaximize=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})]}))}))},n.prototype.minimize=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})]}))}))},n.prototype.unminimize=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})]}))}))},n.prototype.show=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})]}))}))},n.prototype.hide=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})]}))}))},n.prototype.close=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})]}))}))},n.prototype.setDecorations=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:t}}}})]}))}))},n.prototype.setAlwaysOnTop=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:t}}}})]}))}))},n.prototype.setSize=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){if(!t||"Logical"!==t.type&&"Physical"!==t.type)throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:t.type,data:{width:t.width,height:t.height}}}}}})]}))}))},n.prototype.setMinSize=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){if(t&&"Logical"!==t.type&&"Physical"!==t.type)throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:t?{type:t.type,data:{width:t.width,height:t.height}}:null}}}})]}))}))},n.prototype.setMaxSize=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){if(t&&"Logical"!==t.type&&"Physical"!==t.type)throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:t?{type:t.type,data:{width:t.width,height:t.height}}:null}}}})]}))}))},n.prototype.setPosition=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){if(!t||"Logical"!==t.type&&"Physical"!==t.type)throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:t.type,data:{x:t.x,y:t.y}}}}}})]}))}))},n.prototype.setFullscreen=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:t}}}})]}))}))},n.prototype.setFocus=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})]}))}))},n.prototype.setIcon=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:"string"==typeof t?t:Array.from(t)}}}}})]}))}))},n.prototype.setSkipTaskbar=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:t}}}})]}))}))},n.prototype.startDragging=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})]}))}))},n}(_),w=function(t){function o(e,o){void 0===o&&(o={});var a=t.call(this,e)||this;return(null==o?void 0:o.skip)||u({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:n({label:e},o)}}}).then((function(){return i(a,void 0,void 0,(function(){return r(this,(function(t){return[2,this.emit("tauri://created")]}))}))})).catch((function(t){return i(a,void 0,void 0,(function(){return r(this,(function(e){return[2,this.emit("tauri://error",t)]}))}))})),a}return e(o,t),o.getByLabel=function(t){return v().some((function(e){return e.label===t}))?new o(t,{skip:!0}):null},o}(b),M=new w(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0});Object.freeze({__proto__:null,WebviewWindow:w,WebviewWindowHandle:_,WindowManager:b,getCurrent:function(){return new w(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0})},getAll:v,appWindow:M,LogicalSize:p,PhysicalSize:f,LogicalPosition:m,PhysicalPosition:y,get UserAttentionType(){return h},currentMonitor:function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}})]}))}))},primaryMonitor:function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}})]}))}))},availableMonitors:function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,u({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}})]}))}))}});class W{constructor(t){this.path=t}set(t,e){return a("plugin:store|set",{path:this.path,key:t,value:e})}get(t){return a("plugin:store|get",{path:this.path,key:t})}has(t){return a("plugin:store|has",{path:this.path,key:t})}delete(t){return a("plugin:store|delete",{path:this.path,key:t})}clear(){return a("plugin:store|clear",{path:this.path})}reset(){return a("plugin:store|reset",{path:this.path})}keys(){return a("plugin:store|keys",{path:this.path})}values(){return a("plugin:store|values",{path:this.path})}entries(){return a("plugin:store|entries",{path:this.path})}length(){return a("plugin:store|length",{path:this.path})}load(){return a("plugin:store|load",{path:this.path})}save(){return a("plugin:store|save",{path:this.path})}onKeyChange(t,e){M.listen("store://change",(n=>{n.payload.path===this.path&&n.payload.key===t&&e(n.payload.value)}))}onChange(t){M.listen("store://change",(e=>{e.payload.path===this.path&&t(e.payload.key,e.payload.value)}))}}export{W as Store};
